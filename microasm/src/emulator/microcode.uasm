opsize: 16
phase: 4

include "types"

type Reg = enum(3) {
    A; B; C; D; E; AR; SP; IP;
}

bitgroup RegToAddress(Reg reg) {
    $(reg)ToAddress
}
bitgroup AddressToReg(Reg reg) {
    AddressTo$(reg)
}

header {
    IPToAddress, memReadToInst, iRegSet
}

opcode nop 0b1() {}

opcode jmp 0b0110010110(Reg reg) {
    IPToAddress, memReadToInst, iRegSet;
    RegToAddress(reg), AddressToIP;
}

opcode halt 0b11() {
    halt
}
